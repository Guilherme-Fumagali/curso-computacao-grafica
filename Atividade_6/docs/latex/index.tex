\chapter{Metal e vidro}
\hypertarget{index}{}\label{index}\index{Metal e vidro@{Metal e vidro}}
\label{index_md_README}%
\Hypertarget{index_md_README}%
 O objeto dessa atividade é seguir as seções 10 e 11 do \href{https://raytracing.github.io/books/RayTracingInOneWeekend.html\#diffusematerials}{\texttt{ tutorial}} para implementar os materiais com reflexão e refração.

Com isso, visualizar em seguida uma cena com um objeto metálico e outro de vidro.

Consulte a documentação do código-\/fonte para mais detalhes sobre as classes e as funções implementadas\+: \href{https://guilherme-fumagali.github.io/curso-computacao-grafica/Atividade_6/docs/html/index.html}{\texttt{ https\+://guilherme-\/fumagali.\+github.\+io/curso-\/computacao-\/grafica/\+Atividade\+\_\+6/docs/html/index.\+html}}\hypertarget{index_autotoc_md1}{}\doxysection{\texorpdfstring{Implementação}{Implementação}}\label{index_autotoc_md1}
\hypertarget{index_autotoc_md2}{}\doxysubsection{\texorpdfstring{Lambertian, metal e vidro}{Lambertian, metal e vidro}}\label{index_autotoc_md2}
Ao longo da seção 10 do \href{https://raytracing.github.io/books/RayTracingInOneWeekend.html\#diffusematerials}{\texttt{ tutorial}}, é implementado na classe \href{src/headers/material.h}{\texttt{ {\ttfamily material.\+h}}} que define a interface para os materiais, que inclui a função {\ttfamily scatter} que calcula o espalhamento de um raio de luz em um objeto. Além de, neste mesmo arquivo, serem implementados os materiais {\ttfamily lambertian}, {\ttfamily metal} e {\ttfamily dielectric}.\hypertarget{index_autotoc_md3}{}\doxysubsubsection{\texorpdfstring{Resultados}{Resultados}}\label{index_autotoc_md3}
As imagens abaixo foram geradas com o código-\/fonte em\+:
\begin{DoxyItemize}
\item \href{src/material_spheres.cpp}{\texttt{ {\ttfamily material\+\_\+spheres.\+cpp}}}, que cria uma cena com três esferas, duas de material {\ttfamily metal} e uma de material {\ttfamily lambertian};
\item \href{src/dialectrics_spheres.cpp}{\texttt{ {\ttfamily dialectrics\+\_\+spheres.\+cpp}}}, que cria uma cena com três esferas, uma de material {\ttfamily dielectric}, uma de material {\ttfamily lambertian} e uma de material {\ttfamily metal}.
\end{DoxyItemize}

\tabulinesep=1mm
\begin{longtabu}spread 0pt [c]{*{2}{|X[-1]}|}
\hline
\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ {\ttfamily material\+\_\+spheres.\+cpp}   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ {\ttfamily dialectrics\+\_\+spheres.\+cpp}    }\\\cline{1-2}
\endfirsthead
\hline
\endfoot
\hline
\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ {\ttfamily material\+\_\+spheres.\+cpp}   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ {\ttfamily dialectrics\+\_\+spheres.\+cpp}    }\\\cline{1-2}
\endhead
   &   \\\cline{1-2}
\end{longtabu}
\hypertarget{index_autotoc_md4}{}\doxysection{\texorpdfstring{Visualização de cena}{Visualização de cena}}\label{index_autotoc_md4}
Para a visualização de cena, foram importados os seguintes objetos\+:


\begin{DoxyItemize}
\item \href{src/static/objects/cube.obj}{\texttt{ Cube}}
\item \href{src/static/objects/pyramid.obj}{\texttt{ Pyramid}}
\item \href{src/headers/hittable/HittableSphere.h}{\texttt{ Sphere}}
\end{DoxyItemize}

O código-\/fonte da visualização de cena pode ser encontrado em \href{src/main.cpp}{\texttt{ {\ttfamily main.\+cpp}}}, e consiste em uma geração aleatória de 484 objetos, sendo que\+:


\begin{DoxyItemize}
\item A probabilidade de um objeto ser um cubo, ou uma pirâmide, ou uma esfera é de 1/3 (33.\+3\%);
\item A probabilidade de um objeto ser lambertiano é 80\%;
\item A probabilidade de um objeto ser metálico é 15\%;
\item A probabilidade de um objeto ser de vidro é 5\%.
\end{DoxyItemize}\hypertarget{index_autotoc_md5}{}\doxysubsubsection{\texorpdfstring{Resultados}{Resultados}}\label{index_autotoc_md5}
Foram feitas duas configurações de câmera, uma de menor qualidade para teste e outra de maior qualidade para visualização.

\tabulinesep=1mm
\begin{longtabu}spread 0pt [c]{*{4}{|X[-1]}|}
\hline
\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Configuração   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Tamanho da imagem   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Número de raios por pixel   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Número de reflexões de raios    }\\\cline{1-4}
\endfirsthead
\hline
\endfoot
\hline
\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Configuração   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Tamanho da imagem   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Número de raios por pixel   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Número de reflexões de raios    }\\\cline{1-4}
\endhead
{\ttfamily low}   &500   &50   &5    \\\cline{1-4}
{\ttfamily high}   &1200   &500   &50   \\\cline{1-4}
\end{longtabu}


E os resultados são\+:

\tabulinesep=1mm
\begin{longtabu}spread 0pt [c]{*{2}{|X[-1]}|}
\hline
\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Qualidade   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Imagem    }\\\cline{1-2}
\endfirsthead
\hline
\endfoot
\hline
\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Qualidade   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Imagem    }\\\cline{1-2}
\endhead
{\ttfamily low}   &    \\\cline{1-2}
{\ttfamily high}   &   \\\cline{1-2}
\end{longtabu}
\hypertarget{index_autotoc_md6}{}\doxysection{\texorpdfstring{Compilação e execução}{Compilação e execução}}\label{index_autotoc_md6}
\hypertarget{index_autotoc_md7}{}\doxysubsubsection{\texorpdfstring{Dependências}{Dependências}}\label{index_autotoc_md7}

\begin{DoxyItemize}
\item \href{https://gcc.gnu.org/}{\texttt{ gcc}}, compilador C++.
\item \href{https://cmake.org/}{\texttt{ CMake}}, ferramenta para geração de arquivos de compilação.
\item \href{https://www.doxygen.nl/index.html}{\texttt{ Doxygen}}, ferramenta para geração de documentação.
\item \href{https://imagemagick.org/index.php}{\texttt{ Image\+Magick}}, ferramenta para conversão de imagens.
\end{DoxyItemize}

Compile o código-\/fonte com o comando abaixo\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{cmake\ -\/B\ build\ CMakeLists.txt\ \&\&\ cmake\ -\/-\/build\ build}

\end{DoxyCode}


Os arquivos compilados serão gerados na pasta {\ttfamily ./build}.\hypertarget{index_autotoc_md8}{}\doxysubsubsection{\texorpdfstring{Gerando documentação}{Gerando documentação}}\label{index_autotoc_md8}
Para gerar a documentação do código, execute o comando abaixo\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{doxygen\ Doxyfile}

\end{DoxyCode}


A documentação será gerada na pasta {\ttfamily ./docs}.\hypertarget{index_autotoc_md9}{}\doxysubsection{\texorpdfstring{Executando}{Executando}}\label{index_autotoc_md9}

\begin{DoxyCode}{0}
\DoxyCodeLine{./build/material\_spheres}
\DoxyCodeLine{./build/dialectrics\_spheres}
\DoxyCodeLine{./build/main}

\end{DoxyCode}


Os artefatos de saída serão salvos no diretório raiz do projeto. 